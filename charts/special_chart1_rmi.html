<script src="https://cdn.bootcss.com/babel-polyfill/6.23.0/polyfill.min.js"></script>
<script src="https://unpkg.com/frappe-charts@1.1.0"></script>
<script src="http://libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
<script>
    let exc = false;
    let chart = null;
    window.onload = function () {
        if (exc) return;
        exc = true;
        let labels = [];
        labels[0] = '';
        for (let i = 1; i < 51; i++) {
            if (i % 5 === 0)
                labels[i] = i;
            else
                labels[i] = '';
        }
        chart = new frappe.Chart("#chart", { // or DOM element
            data: {
                labels: labels,
                datasets: [{
                    name: "linear",
                    chartType: 'line',
                    values: [7575,
                        5102,
                        4767,
                        4502,
                        4518,
                        4383,
                        4383,
                        4382,
                        4464,
                        4447,
                        4576,
                        4496,
                        4564,
                        4503,
                        4320,
                        4220,
                        4200,
                        4217,
                        4245,
                        4287,
                        4256,
                        4615,
                        4490,
                        4345,
                        4329,
                        4250,
                        4949,
                        4270,
                        4222,
                        4222,
                        4264,
                        4313,
                        4290,
                        4345,
                        4367,
                        4222,
                        4250,
                        4234,
                        4209,
                        4233,
                        4206,
                        4204,
                        4236,
                        4196,
                        4210,
                        4219,
                        4220,
                        4210,
                        4204,
                        4206
                    ]
                }],
                yMarkers: [{label: "Time cost (ms)", value: 8000, options: {labelPos: 'left'}}],
            },
            lineOptions: {
                hideDots: 1
            },
            title: "The time cost of each serial File traversal query for 50 times",
            type: 'line', // or 'bar', 'line', 'pie', 'percentage'
            height: 600,
            axisOptions: {
                xIsSeries: 1,
                yAxisMode: 'span',
                xAxisMode: 'tick'
            },
            colors: ['light-blue', 'green', 'red', 'light-blue', 'grey'],

            tooltipOptions: {
                formatTooltipX: d => (d + '').toUpperCase(),
                formatTooltipY: d => d + ' pts',
            }
        });
        // chart.export()
        this.console.log('???!!!')
        $('.title').css({fontSize: '20px',fill:'rgb(0,0,0)'})
        $('.chart-label').css({fontSize: '12px'})
    };

    function myClick() {
        chart.export()
    }
</script>
<link rel="stylesheet" type="text/css" href="mystyle.css">
<body>
<div id="chart"></div>
<button id="ex" onclick="myClick()"> Export</button>
</body>